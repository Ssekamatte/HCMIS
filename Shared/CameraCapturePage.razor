<h3>CameraCapturePage</h3>

@page "/CameraCapturePage"
@inject IJSRuntime JSRuntime

<h3>Camera Capture</h3>
<video id="videoElement" autoplay></video>
<button @onclick="CaptureImage">Capture Image</button>
<br />
<img src="@capturedImage" alt="Captured Image" style="margin-top:10px; max-width:100%;"/>

@code {
    private string capturedImage;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await StartCamera();
        }
    }

    private async Task StartCamera()
    {
        await JSRuntime.InvokeVoidAsync("startCamera");
    }

    private async Task CaptureImage()
    {
        capturedImage = await JSRuntime.InvokeAsync<string>("captureImage");
    }
}
