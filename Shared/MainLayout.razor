@inherits LayoutComponentBase;
@inject IJSRuntime JsRuntime;

<style>
    /*sfaccordion css*/

    /*customize the selected accordion item.*/
    .e-accordion .e-acrdn-item.e-select.e-active > .e-acrdn-header,
    .e-accordion .e-acrdn-item.e-select.e-item-focus > .e-acrdn-header {
        background-color: #00cc00 !important;
        font-size: larger;
    }

        /*customize the selected accordion item text*/
        .e-accordion .e-acrdn-item.e-select.e-active > .e-acrdn-header .e-acrdn-header-content,
        .e-accordion .e-acrdn-item.e-select.e-item-focus > .e-acrdn-header .e-acrdn-header-content {
            color: ghostwhite !important;
            font-size:larger;
        }

    /*Accordion Colors*/
    .e-accordion {
        border-radius: 6px 6px 6px 6px;
        border: none !important;
        font-size: larger;
    }

        /* header custom css*/
        .e-accordion .e-acrdn-item .e-acrdn-header {
            background-color: #00cc00;
            border-radius: 6px 6px 6px 6px;
            font-size: larger;
        }

            /*header on hover custom css*/
            .e-accordion .e-acrdn-item .e-acrdn-header:hover {
                background-color: green;
                font-size: larger;
            }

        /*header on selected and expanded custom css*/
        .e-accordion .e-acrdn-item.e-select.e-expand-state > .e-acrdn-header {
            background: #00cc00;
            font-size: larger;
        }

        .e-accordion .e-acrdn-item.e-select.e-selected.e-expand-state > .e-acrdn-header {
            background: #00cc00;
            font-size: larger;
        }

        .e-accordion .e-acrdn-item.e-expand-state.e-select:not(.e-selected) > .e-acrdn-header:focus {
            background: #00cc00;
            font-size: larger;
        }

        /*content custom css*/
        .e-accordion .e-acrdn-item .e-acrdn-panel .e-acrdn-content {
            background-color: whitesmoke;
            border-radius: 6px 6px 6px 6px;
            font-size: larger;
        }

        /*to remove the white line*/
        .e-accordion .e-acrdn-item.e-select {
            border-bottom: 1px solid white !important;
            border-top: 1px solid white !important;
        }
        /*to change the accordion header color*/
        .e-accordion .e-acrdn-item .e-acrdn-header .e-acrdn-header-content {
            color: white;
            font-size: larger;
        }
</style>

<style>
    /*sfbutton success css*/
    .e-btn:hover, .e-css.e-btn:hover {
        background: green;
        border-color: #8a8886;
        box-shadow: 0 0 rgba(0,0,0,0);
        color: white;
    }

    .e-btn, .e-css.e-btn {
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        background: #28a745;
        border-color: #28a745;
        box-shadow: none;
        color: white;
        transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 400;
        user-select: none;
        /* background-color: transparent; */
        border: 1px solid transparent;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        text-align: center;
        vertical-align: middle;
        display: inline-block;
        text-transform: none;
    }

    .e-footer-content .e-btn.e-primary.e-flat:not([DISABLED]) {
        background: green;
        border-color: #0078d4;
        color: #fff;
    }

    .e-footer-content .e-btn.e-flat:not([DISABLED]) {
        background: red;
        border-color: #8a8886;
        color: white;
    }

</style>

<style>
    /*Change Dialog Header Close Button for Primary Data Tables*/
    .e-dialog .e-btn .e-btn-icon.e-icon-dlg-close {
    float: right;
    font-size: 12px;
    width: auto;
    }

    .e-dialog .e-dlg-header-content .e-btn.e-dlg-closeicon-btn {
    background-color: #d9edf7;
    border-color: #d9edf7;
    border-radius: 1px;
    bottom: 0;
    float: right;
    height: 32px;
    left: 15px;
    position: relative;
    width: 15px;
    padding: 1px 9px;
    }
</style>

@*Change Dialog Appearance*@
<style>
    .e-btn.e-flat.e-primary, .e-btn.e-flat.e-primary:focus {
        background-color: #317ab9;
        border-color: #265f91;
        color: #fff;
    }

        .e-btn.e-flat.e-primary:hover, .e-btn.e-flat.e-primary:active {
            background-color: #21527d;
            border-color: #163854;
            color: #fff;
        }

    .close-icon {
        width: 24px;
        height: 24px;
        position: relative;
        display: inline-block;
    }

    .error-msg {
        color: #66afe9;
        display: inline-block;
        position: relative;
        top: -20px;
        left: 10px;
    }

    .error-detail {
        position: relative;
        left: 56px;
        margin: 0 0 21px;
    }

    .e-icons.close-icon.col-lg-2:before {
        content: '\e7e9';
        font-size: 26px;
        color: #d9534f;
        position: relative;
        left: 1px;
        bottom: 18px;
    }

    .e-dialog .e-footer-content {
        background-color: #f8f8f8;
    }

    .e-dialog.e-control.e-popup, .e-dialog.e-control.e-popup .e-dlg-header-content {
        background-color: #d9edf7;
    }

    .e-dialog.e-control.e-popup {
        padding: 3px;
    }

    .e-dialog.e-control .e-dlg-header-content {
        padding: 10px;
    }

    .e-dialog.e-control .e-footer-content {
        padding: 8px 12px;
    }

    .e-dialog.e-control .e-dlg-content {
        padding: 15px 0 0;
    }

    .msg-wrapper.col-lg-12 {
        margin-top: 20px;
    }
</style>

<style>

    /*Radio Button Settings*/
    .e-radio+label .e-label {
    display: inline-block;
    font-family: "Segoe UI",-apple-system,BlinkMacSystemFont,"Roboto","Helvetica Neue",sans-serif;
    font-size: 14px;
    font-weight: normal;
    line-height: 1.5;
    padding-left: 28px;
    vertical-align: text-top;
    white-space: nowrap;
    border: none;
    width: 90px;
    display: flex;
    position: initial;
    cursor: pointer;
    float: left;
    left: 7.5%;
    height: 13px;
    }
</style>
<style>
    .mud-container {
    padding-left: 2px;
    padding-right: 2px;
    }

    .blazored-toast-container[b-y65zu6vhcs] {
        z-index: 414748364800;
    }
    #btn {
        display: none;
        /*display: block;*/
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 10000; /*99*/
        font-size: 18px;
        border: none;
        outline: none;
        background-color: red;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
    }

        #btn:hover {
            background-color: #555;
        }

    .control-container .e-btn.e-inherit {
        margin: 0 3px;
        /*width: 100%;*/
    }

    .content {
        padding-top: 1.1rem;
    }

    .logo-style {
        padding: 2px;
    }

    /*Change Font */
    .e-menu-wrapper .e-menu .e-menu-item .e-menu-url, .e-menu-container .e-menu .e-menu-item .e-menu-url {
        color: ghostwhite;
    }
</style>

<style>
    /*.pt-16, .py-16 {
                padding-top: 0px !important;
            }*/

    .pr-16, .px-16 {
        padding-right: 2px !important;
    }

    .pl-16, .px-16 {
        padding-left: 2px !important;
    }

    svg.mud-icon-root.mud-icon-default.mud-svg-icon.mud-icon-size-medium.mud-nav-link-icon.mud-nav-link-icon-default {
        font-size: 0.8rem;
    }

    span.mud-icon-root.mud-icon-default.mud-icon-size-medium.mud-nav-link-icon.mud-nav-link-icon-default {
        font-size: 0.8rem;
    }

    /*Side Menu Designs*/
    .mud-drawer.mud-drawer-responsive.mud-drawer-pos-left.mud-drawer--open:not(.mud-drawer--initial), .mud-drawer.mud-drawer-persistent.mud-drawer-pos-left.mud-drawer--open:not(.mud-drawer--initial) {
        animation: mud-drawer-slide-in-left 225ms cubic-bezier(0,0,.2,1);
        color: purple;
        background-color: lavenderblush;
    }

    /*Appbar Designs*/
    .mud-appbar.mud-appbar-fixed-top {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        /* color: green; */
        background-color: #00cc00;
    }
</style>

<AuthorizeView>
    <Authorized>
        <MudLayout>
            <AppBar OnSidebarToggled="ToggleSidebar" OnThemeToggled="ToggleTheme" />
            @*@if(_sidebarOpen== true)
            {
                <NavMenu SideBarOpen="@_sidebarOpen" />
            }*@
            <NavMenu SideBarOpen="@_sidebarOpen" />
            <MudMainContent Class="pt-16 px-16">
                <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">

                    <BlazoredToasts Position="Blazored.Toast.Configuration.ToastPosition.TopRight"
                                    Timeout="10"
                                    IconType="Blazored.Toast.Configuration.IconType.FontAwesome"
                                    SuccessClass="success-toast-override"
                                    SuccessIcon="fa fa-check"
                                    ErrorIcon="fa fa-times"
                                    InfoIcon="fa fa-info"
                                    WarningIcon="fa fa-warning" />
                    @Body
                </MudContainer>
            </MudMainContent>
        </MudLayout>
    </Authorized>
    <NotAuthorized>
        <BlazoredToasts Position="Blazored.Toast.Configuration.ToastPosition.TopRight"
                        Timeout="10"
                        IconType="Blazored.Toast.Configuration.IconType.FontAwesome"
                        SuccessClass="success-toast-override"
                        SuccessIcon="fa fa-check"
                        ErrorIcon="fa fa-times"
                        InfoIcon="fa fa-info"
                        WarningIcon="fa fa-warning" />
        @Body
    </NotAuthorized>
</AuthorizeView>

<div class="row">
    <div class="col-lg-12 control-section">
        <button onclick="topFunction()" @ref="ScrollToTop" id="btn" title="Go to top">Scroll To Top</button>
    </div>
</div>
<MudThemeProvider Theme="_currentTheme" />
<MudDialogProvider />
<MudSnackbarProvider />

@code {
    private Boolean disable = true;
    public ElementReference ScrollToTop;

    Dictionary<string, object> HtmlAttribute = new Dictionary<string, object>()
    {
    {"class", "sidebar-treeview" }
    };
    Dictionary<string, object> MenuHtmlAttribute = new Dictionary<string, object>()
    {
    {"style", "z-index: 100;" }
    };
    Dictionary<string, object> LogoutHtmlAttribute = new Dictionary<string, object>()
    {
    {"class", "Menu-logout" },{"style","float:right;"}
    };

    private MudTheme _currentTheme = new MudTheme();
    private bool _sidebarOpen = false;


    private void ToggleTheme(MudTheme changedTheme) => _currentTheme = changedTheme;

    private void ToggleSidebar() => _sidebarOpen = !_sidebarOpen;

    private async void OnButtonClick()
    {
        await JsRuntime.InvokeVoidAsync("OnScrollEvent");
    }
}